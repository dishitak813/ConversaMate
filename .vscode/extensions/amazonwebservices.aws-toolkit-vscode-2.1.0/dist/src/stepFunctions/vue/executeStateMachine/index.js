(()=>{"use strict";var L={3744:(e,d)=>{var l;l={value:!0},d.Z=(h,f)=>{const m=h.__vccOpts||h;for(const[b,w]of f)m[b]=w;return m}}},y={};function u(e){var d=y[e];if(d!==void 0)return d.exports;var l=y[e]={exports:{}};return L[e](l,l.exports,u),l.exports}u.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};(()=>{u.r(p);const e=Vue,d={id:"app"},l={class:"container button-container",style:{"justify-content":"space-between"}},h=(0,e.createElementVNode)("br",null,null,-1),f=(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("label",{class:"input-header"}," Execution Input ")],-1),m=(0,e.createElementVNode)("br",null,null,-1),b=(0,e.createElementVNode)("label",{for:"textarea"}," Provide JSON ",-1),w=(0,e.createElementVNode)("label",{for:"file"}," Select a file ",-1),O=(0,e.createElementVNode)("br",null,null,-1),k={class:"custom-file-upload"},I={class:"custom-file-name"},D=(0,e.createElementVNode)("br",null,null,-1),M=(0,e.createElementVNode)("br",null,null,-1),F=["readonly","placeholder"];function J(n,t,s,i,o,r){return(0,e.openBlock)(),(0,e.createElementBlock)("div",d,[(0,e.createElementVNode)("div",l,[(0,e.createElementVNode)("h1",null,(0,e.toDisplayString)(n.initialData.name),1),(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("input",{type:"submit",onClick:t[0]||(t[0]=(...a)=>n.sendInput&&n.sendInput(...a)),value:"Execute"})])]),h,f,m,(0,e.createElementVNode)("div",null,[(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=a=>n.inputChoice=a),value:"textarea"},null,512),[[e.vModelRadio,n.inputChoice]]),b]),(0,e.createElementVNode)("div",null,[(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=a=>n.inputChoice=a),value:"file"},null,512),[[e.vModelRadio,n.inputChoice]]),w]),(0,e.createElementVNode)("div",{style:(0,e.normalizeStyle)({visibility:n.fileInputVisible?"visible":"hidden"})},[O,(0,e.createElementVNode)("label",k,[(0,e.createElementVNode)("input",{type:"file",onChange:t[3]||(t[3]=a=>n.processFile(a))},null,32),(0,e.createTextVNode)(" Choose File ")]),(0,e.createElementVNode)("span",I,(0,e.toDisplayString)(n.selectedFile),1),D,M],4),(0,e.createElementVNode)("div",{style:(0,e.normalizeStyle)({visibility:n.textAreaVisible?"visible":"hidden"})},[(0,e.withDirectives)((0,e.createElementVNode)("textarea",{style:{width:"100%","margin-bottom":"10px"},rows:"10","onUpdate:modelValue":t[4]||(t[4]=a=>n.executionInput=a),readonly:n.inputChoice=="file",placeholder:n.placeholderJson},null,8,F),[[e.vModelText,n.executionInput]])],4)])}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */class v{static registerGlobalCommands(){const t=new Event("remount");window.addEventListener("message",s=>{const{command:i}=s.data;i==="$clear"&&(vscode.setState({}),this.messageListeners.forEach(o=>this.removeListener(o)),window.dispatchEvent(t))})}static addListener(t){this.messageListeners.add(t),window.addEventListener("message",t)}static removeListener(t){this.messageListeners.delete(t),window.removeEventListener("message",t)}static sendRequest(t,s,i){const o=JSON.parse(JSON.stringify(i)),r=new Promise((a,g)=>{const E=U=>{const c=U.data;if(t===c.id)if(this.removeListener(E),window.clearTimeout(R),c.error===!0){const q=JSON.parse(c.data);g(new Error(q.message))}else c.event?(typeof i[0]!="function"&&g(new Error(`Expected frontend event handler to be a function: ${s}`)),a(this.registerEventHandler(s,i[0]))):a(c.data)},R=setTimeout(()=>{this.removeListener(E),g(new Error(`Timed out while waiting for response: id: ${t}, command: ${s}`))},3e5);this.addListener(E)});return vscode.postMessage({id:t,command:s,data:o}),r}static registerEventHandler(t,s){const i=o=>{const r=o.data;if(r.command===t){if(!r.event)throw new Error(`Expected backend handler to be an event emitter: ${t}`);s(r.data)}};return this.addListener(i),{dispose:()=>this.removeListener(i)}}static create(){return this.initialized||(this.initialized=!0,this.registerGlobalCommands()),new Proxy({},{set:()=>{throw new TypeError("Cannot set property to webview client")},get:(t,s)=>{if(typeof s!="string"){console.warn(`Tried to index webview client with non-string property: ${String(s)}`);return}if(s==="init"){const o=vscode.getState()??{};if(o.__once)return()=>Promise.resolve();vscode.setState(Object.assign(o,{__once:!0}))}const i=(this.counter++).toString();return(...o)=>this.sendRequest(i,s,o)}})}}v.counter=0,v.initialized=!1,v.messageListeners=new Set;/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const _=new Set;window.addEventListener("remount",()=>_.clear());const T={created(){if(this.$data===void 0)return;const n=vscode.getState()??{};this.$options._count=(this.$options._count??0)+1;const t=this.id??`${this.name??`DEFAULT-${_.size}`}-${this.$options._count}`;if(this.$options._unid=t,_.has(t)){console.warn(`Component "${t}" already exists. State-saving functionality will be disabled.`);return}_.add(t);const s=n[t]??{};Object.keys(this.$data).forEach(i=>{this.$data[i]=s[i]??this.$data[i]}),Object.keys(this.$data).forEach(i=>{this.$watch(i,o=>{const r=vscode.getState()??{},a=Object.assign(r[t]??{},{[i]:o!==void 0?JSON.parse(JSON.stringify(o)):void 0});vscode.setState(Object.assign(r,{[t]:a}))},{deep:!0})})}},N=`{
	"key1": "value1",
	"key2": "value2",
	"key3": "value3"
}`,x=v.create(),j={name:"",region:"",arn:""},P=(0,e.defineComponent)({async created(){this.initialData=await x.init()??this.initialData},data:()=>({initialData:j,executionInput:"",isReadOnly:!1,inputChoice:"textarea",placeholderJson:N,selectedFile:"",fileInputVisible:!1,textAreaVisible:!0}),watch:{inputChoice:function(n,t){this.handleInputChange(n)}},methods:{handleInputChange:function(n){switch(n){case"file":this.selectedFile="No file selected",this.placeholderJson="",this.executionInput="",this.fileInputVisible=!0;break;case"textarea":this.placeholderJson=N,this.executionInput="",this.fileInputVisible=!1;break}},processFile:function(n){console.log(n),console.log(n.target);const t=n.target;if(t.files&&t.files.length>0){const s=new FileReader;s.onload=i=>{if(i.target){const o=i.target.result;this.executionInput=o}},s.onerror=i=>{throw i},s.readAsText(t.files[0]),this.selectedFile=t.files[0].name,this.textAreaVisible=!0}},sendInput:function(){x.executeStateMachine(this.executionInput)}},mixins:[T]});var z=u(3744);const A=(0,z.Z)(P,[["render",J]]);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const $=()=>(0,e.createApp)(A),C=$();C.mount("#vue-app"),window.addEventListener("remount",()=>{C.unmount(),$().mount("#vue-app")})})();var V=this;for(var S in p)V[S]=p[S];p.__esModule&&Object.defineProperty(V,"__esModule",{value:!0})})();

//# sourceMappingURL=index.js.map