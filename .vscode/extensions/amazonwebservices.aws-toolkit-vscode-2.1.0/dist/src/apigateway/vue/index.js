(()=>{"use strict";var V={3744:(e,d)=>{var l;l={value:!0},d.Z=(h,g)=>{const m=h.__vccOpts||h;for(const[w,f]of g)m[w]=f;return m}}},k={};function u(e){var d=k[e];if(d!==void 0)return d.exports;var l=k[e]={exports:{}};return V[e](l,l.exports,u),l.exports}u.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};(()=>{u.r(p);const e=Vue,d={id:"app"},l={class:"container button-container",style:{"justify-content":"space-between"}},h={key:0},g=(0,e.createElementVNode)("b",null,"Validation error(s):",-1),m=["disabled"],w=(0,e.createElementVNode)("h3",null,"Select a resource:",-1),f=(0,e.createElementVNode)("option",{disabled:"",value:""},"Select a resource",-1),L=["disabled","value"],M=(0,e.createElementVNode)("h3",null,"Select a method:",-1),$=(0,e.createElementVNode)("option",{disabled:"",value:""},"Select a method",-1),R=["value"],B={key:1},O=[(0,e.createElementVNode)("option",{disabled:"",value:""},"Select a resource first",-1)],j=(0,e.createElementVNode)("br",null,null,-1),I=(0,e.createElementVNode)("h3",null,"Query string (optional)",-1),T=(0,e.createElementVNode)("br",null,null,-1),C=(0,e.createElementVNode)("br",null,null,-1);function q(s,t,o,i,r,a){return(0,e.openBlock)(),(0,e.createElementBlock)("div",d,[(0,e.createElementVNode)("div",l,[(0,e.createElementVNode)("h1",null,"API: "+(0,e.toDisplayString)(s.initialData.ApiName)+" ("+(0,e.toDisplayString)(s.initialData.ApiId)+")",1),s.errors.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",h,[g,(0,e.createElementVNode)("ul",null,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(s.errors,n=>((0,e.openBlock)(),(0,e.createElementBlock)("li",{key:n},(0,e.toDisplayString)(n),1))),128))])])):(0,e.createCommentVNode)("v-if",!0),(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("button",{class:"",onClick:t[0]||(t[0]=(...n)=>s.sendInput&&s.sendInput(...n)),disabled:s.isLoading},(0,e.toDisplayString)(s.invokeText),9,m)])]),(0,e.createElementVNode)("pre",null,(0,e.toDisplayString)(s.initialData.ApiArn),1),w,(0,e.withDirectives)((0,e.createElementVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=n=>s.selectedApiResource=n),onChange:t[2]||(t[2]=(...n)=>s.setApiResource&&s.setApiResource(...n))},[f,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(s.initialData.Resources,n=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:n.id,disabled:!n.resourceMethods,value:n.id},(0,e.toDisplayString)(`${n.path}${n.resourceMethods===void 0?" -- No methods":""}`),9,L))),128))],544),[[e.vModelSelect,s.selectedApiResource]]),M,s.selectedApiResource?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("select",{key:0,"onUpdate:modelValue":t[3]||(t[3]=n=>s.selectedMethod=n)},[$,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(s.methods,n=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:n,value:n},(0,e.toDisplayString)(n),9,R))),128))],512)),[[e.vModelSelect,s.selectedMethod]]):((0,e.openBlock)(),(0,e.createElementBlock)("select",B,O)),j,I,(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=n=>s.queryString=n)},null,512),[[e.vModelText,s.queryString]]),T,C,(0,e.withDirectives)((0,e.createElementVNode)("textarea",{style:{width:"100%","margin-bottom":"10px"},rows:"10",cols:"90","onUpdate:modelValue":t[5]||(t[5]=n=>s.jsonInput=n)},null,512),[[e.vModelText,s.jsonInput]])])}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */class v{static registerGlobalCommands(){const t=new Event("remount");window.addEventListener("message",o=>{const{command:i}=o.data;i==="$clear"&&(vscode.setState({}),this.messageListeners.forEach(r=>this.removeListener(r)),window.dispatchEvent(t))})}static addListener(t){this.messageListeners.add(t),window.addEventListener("message",t)}static removeListener(t){this.messageListeners.delete(t),window.removeEventListener("message",t)}static sendRequest(t,o,i){const r=JSON.parse(JSON.stringify(i)),a=new Promise((n,y)=>{const b=H=>{const c=H.data;if(t===c.id)if(this.removeListener(b),window.clearTimeout(x),c.error===!0){const G=JSON.parse(c.data);y(new Error(G.message))}else c.event?(typeof i[0]!="function"&&y(new Error(`Expected frontend event handler to be a function: ${o}`)),n(this.registerEventHandler(o,i[0]))):n(c.data)},x=setTimeout(()=>{this.removeListener(b),y(new Error(`Timed out while waiting for response: id: ${t}, command: ${o}`))},3e5);this.addListener(b)});return vscode.postMessage({id:t,command:o,data:r}),a}static registerEventHandler(t,o){const i=r=>{const a=r.data;if(a.command===t){if(!a.event)throw new Error(`Expected backend handler to be an event emitter: ${t}`);o(a.data)}};return this.addListener(i),{dispose:()=>this.removeListener(i)}}static create(){return this.initialized||(this.initialized=!0,this.registerGlobalCommands()),new Proxy({},{set:()=>{throw new TypeError("Cannot set property to webview client")},get:(t,o)=>{if(typeof o!="string"){console.warn(`Tried to index webview client with non-string property: ${String(o)}`);return}if(o==="init"){const r=vscode.getState()??{};if(r.__once)return()=>Promise.resolve();vscode.setState(Object.assign(r,{__once:!0}))}const i=(this.counter++).toString();return(...r)=>this.sendRequest(i,o,r)}})}}v.counter=0,v.initialized=!1,v.messageListeners=new Set;/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const _=new Set;window.addEventListener("remount",()=>_.clear());const z={created(){if(this.$data===void 0)return;const s=vscode.getState()??{};this.$options._count=(this.$options._count??0)+1;const t=this.id??`${this.name??`DEFAULT-${_.size}`}-${this.$options._count}`;if(this.$options._unid=t,_.has(t)){console.warn(`Component "${t}" already exists. State-saving functionality will be disabled.`);return}_.add(t);const o=s[t]??{};Object.keys(this.$data).forEach(i=>{this.$data[i]=o[i]??this.$data[i]}),Object.keys(this.$data).forEach(i=>{this.$watch(i,r=>{const a=vscode.getState()??{},n=Object.assign(a[t]??{},{[i]:r!==void 0?JSON.parse(JSON.stringify(r)):void 0});vscode.setState(Object.assign(a,{[t]:n}))},{deep:!0})})}},E=v.create(),P={ApiName:"",ApiId:"",ApiArn:"",Resources:{},Region:"",localizedMessages:{noApiResource:"noApiResource",noMethod:"noMethod"}},F=(0,e.defineComponent)({mixins:[z],data:()=>({initialData:P,selectedApiResource:"",selectedMethod:"",methods:[],jsonInput:"",queryString:"",errors:[],isLoading:!1}),async created(){this.initialData=await E.init()??this.initialData},methods:{setApiResource:async function(){const s=await E.listValidMethods(this.initialData.Resources[this.selectedApiResource]);this.methods=s,this.selectedMethod=s[0]},sendInput:function(){this.errors=[],this.selectedApiResource||this.errors.push(this.initialData.localizedMessages.noApiResource),this.selectedMethod||this.errors.push(this.initialData.localizedMessages.noMethod),!(this.errors.length>0)&&(this.isLoading=!0,E.invokeApi({body:this.jsonInput,api:this.initialData.ApiId,selectedApiResource:this.initialData.Resources[this.selectedApiResource],selectedMethod:this.selectedMethod,queryString:this.queryString,region:this.initialData.Region}).finally(()=>this.isLoading=!1))}},computed:{invokeText(){return this.isLoading?"Invoking...":"Invoke"}}});var J=u(3744);const U=(0,J.Z)(F,[["render",q]]);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const D=()=>(0,e.createApp)(U),N=D();N.mount("#vue-app"),window.addEventListener("remount",()=>{N.unmount(),D().mount("#vue-app")})})();var S=this;for(var A in p)S[A]=p[A];p.__esModule&&Object.defineProperty(S,"__esModule",{value:!0})})();

//# sourceMappingURL=index.js.map